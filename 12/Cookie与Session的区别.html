<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="cookie与Session的区别cookie机制cookie是服务器在本地机器上存储的小段文本并随机每一个请求发送至同一个服务器。网络服务器利用HTTP头向客户端发送cookie，在客户终端，浏览器解析这些cookie并将他们保存为一个本地文件，它会自动将同一服务器的任何请求缚上这些cookies">
    

    <!--Author-->
    
        <meta name="author" content="Rongqin Lai">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Cookie与Session的区别"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Lai Blog"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>Cookie与Session的区别 - Lai Blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


    <!-- favicon -->
    
	
</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Roylai</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/lairongqin">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('http://www.codeblocq.com/assets/projects/hexo-theme-clean-blog/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Cookie与Session的区别</h1>
                    
                    <h2 class="post-subheading">
                        从机制等多个方向区别
                    </h2>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        2016-03-20
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h1 id="cookie与Session的区别"><a href="#cookie与Session的区别" class="headerlink" title="cookie与Session的区别"></a>cookie与Session的区别</h1><h2 id="cookie机制"><a href="#cookie机制" class="headerlink" title="cookie机制"></a>cookie机制</h2><p>cookie是服务器在本地机器上存储的小段文本并随机每一个请求发送至同一个服务器。网络服务器利用HTTP头向客户端发送cookie，在客户终端，浏览器解析这些cookie并将他们保存为一个本地文件，它会自动将同一服务器的任何请求缚上这些cookies。</p>
<p>具体来说cookie机制采用的是在客户端保持状态的方案。它是在用户端的会话状态的存贮机制，他需要用户打开客户端的cookie支持。cookie的作用就是为了解决HTTP协议无状态的缺陷所作的努力。</p>
<p>正统的cookie分发是通过扩展HTTP协议来实现的，服务器通过在HTTP的响应头中加上一行特殊的只是以提示浏览器按照指示生成相应的cookie。然而纯粹的客户端脚本如JavaScript也可以生成cookie。而cookie的使用是由浏览器按照一定的原则在后台自动发送给服务器的。浏览器检查所有存储的cookie，如果某个cookie所生命的作用范围大于等于将要请求的资源所在位置，则把该cookie附在请求资源的HTTP请求头上发送给服务器。</p>
<p>cookie的主要内容包括：名字，值，过期时间，路径和域。路径与域一起构成cookie的作用范围。若不设置过期时间，则表示这个cookie的生命期为浏览器会话期间，关闭浏览器，cookie就消失。这种生命期为浏览器会话期的cookie被成为会话cookie。会话cookie一般不存储在硬盘上而是保存在内存里，当然这种行为并不是规范规定的。若设置了过期时间，浏览器就会把cookie保存到硬盘上，关闭后再次代开浏览器，这些cookie仍然有效直到超过设定的过期时间。存储在硬盘上的cookie可以在不同的浏览器进程间共享，比如两个IE窗口。而对于保存在内存里的cookie，不同的浏览器有不同的处理方式。</p>
<p>而session机制采用的是一种在服务器端保持状态的解决方案。同时我们也看到，由于采用服务器保持状态的方案在客户端也需要保存一个标识，所以session机制可能需要借助于cookie机制来达到保存标识的目的。而session提供了方便管理全局变量的方式。</p>
<p>session是针对每一个用户的，变量的值保存在服务器上，用一个sessionID来区分是哪个用户session变量，这个值是通过用户的浏览器在访问的时候返回给服务器，当用户禁用cookie时，这个值可能设置为get来返回给服务器。</p>
<p>就安全性来说：当你访问一个使用session的站点，同时在自己机子上建立一个cookie，建议在服务器端的session机制更安全些，因为他不会任意读取客户存储的信息。</p>
<h2 id="session机制"><a href="#session机制" class="headerlink" title="session机制"></a>session机制</h2><p>session机制是一种服务器端的机制，服务器使用一种类似于散列表的结构来保存信息。</p>
<p>当程序需要为某个客户端的请求创建一个session时，服务器首先检查这个客户端的请求是否已包含了一个session表识，如果已包含则说明以前已经为此客户端创建过session，服务器就按照session id 把这个session检索出来使用（检索不到，就会新建一个），如果客户端请求不包含session，则为次客户端创建一个session并且生成一个与此session相关联的session id，session id的值应该是一个既不会重复，也不容易被找到规律以仿造的字符串，这个session id将在本次响应中返回给客户端保存。</p>
<p>保存这个session id的方式可以采用cookie，这样在交互过程中浏览器可以自动的按照规则把这个表示发挥给服务器。一般这个cookie的名字都是类似于seesion id。但cookie可以被人为的禁止，则必须有其他机制以便在cookie被禁止时仍然能够把session id传递回服务器。经常是被使用的一种记住叫做URL重写，就是把session id直接附加在URL的路径后面。还一种技术叫做表单隐藏字段。就是服务器会自动修改表单，添加一个隐藏字段，一边在表单提交时能够把session id传递回服务器。</p>
<p>cookie和session都能够进行会话跟踪，但是完成的原理不太一样。普通状况下二者均能够满足需求，但有时候不能。</p>
<h3 id="存取方式的不同"><a href="#存取方式的不同" class="headerlink" title="存取方式的不同"></a>存取方式的不同</h3><p>cookie中只能保管ASCII字符串，加入需求存取Unicode字符或者二进制数据，需要先进行编码。cookie中也不能直接java对象。若要存储略微复杂的信息，运用cookie是比较艰难的。<br>而session中能够存取任何类型的数据，包括而不限于String、Integer、List、Map等。session中也能够直接保管Java Bean乃至任何java类，对象等，运用起来十分便当。能够把session看做是一个Java容器类。</p>
<h3 id="隐私策略不同"><a href="#隐私策略不同" class="headerlink" title="隐私策略不同"></a>隐私策略不同</h3><p>cookie存储在客户端阅读器中，对客户端是可见的，客户端的一些程序可能会窥探、复制以至修正cookie中过的内容。而session存储在服务器上，对客户端是透明的，不存在敏感信息泄漏的风险。</p>
<p>假如选用cookie，比较好的方法是，敏感的信息如帐号密码等尽量不要写到cookie中，最好像Google、Baidu那样将cookie中。最好是像Google、百度那样将Cookie信息加密，提交到服务器后再进行解密，保证Cookie中过的信息只要本人能读得懂。</p>
<h3 id="有效期上的不同"><a href="#有效期上的不同" class="headerlink" title="有效期上的不同"></a>有效期上的不同</h3><p>使用过Google的人都晓得，登陆过google，则google的登录信息长期有效。用户不用每次访问都重新登录。要达到这种效果，运用cookie会是比较好的选择。只需要设置cookie是个很大数字。</p>
<p>由于session依赖于名为JS ESSIONID的cookie，而cookie JSESSIONID的过期时间默许为-1，只需关闭了阅读器该session就会失效，因而session不能完成信息永世有效的效果。运用URL地址重写也不能完成。而且假如设置session的超时时间过长，服务器累计的session就会越多，越容易招致内存溢出。</p>
<h3 id="服务器亚力的不同"><a href="#服务器亚力的不同" class="headerlink" title="服务器亚力的不同"></a>服务器亚力的不同</h3><p>session是保管在服务器端的，每个用户都会产生一个session。加入并发访问的用户十分多，会产生十分多的session，耗费大量的内存。因而想google，百度，sinia这样并发访问量极高的网站，是不太可能运用session来追踪客户会话的。</p>
<p>而cookie保管在客户短，不占用服务器资源。假如并发阅读的用户十分多，cookie是很好的选择。关于google、百度、新浪来说，cookie或许是唯一的选择。</p>
<h3 id="浏览器支持的不同"><a href="#浏览器支持的不同" class="headerlink" title="浏览器支持的不同"></a>浏览器支持的不同</h3><p>cookie需要浏览器支持，加入客户端禁用，需要运用session以及URL重写</p>
<h3 id="跨域支持上的不同"><a href="#跨域支持上的不同" class="headerlink" title="跨域支持上的不同"></a>跨域支持上的不同</h3><p>cookie支持跨域名访问，例如将domain属性设置为“.lairongqin.com“，则以”.lairongqin.com”为后缀的一切域名均能够访问该cookie。而session则不支持跨域名访问。</p>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/lairongqin" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2017 Rongqin Lai<br></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>